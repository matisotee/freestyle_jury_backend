language: python
python:
  - "3.8.3"
cache: pip
# command to install dependencies
install:
  - pip install -r requirements.txt
# command to run tests
jobs:
  include:
    - stage: unit test
      script: coverage run --source='.' ./manage.py test test/unit
    # - stage name not required, will continue to use `test`
      after_success: coveralls
    - stage: integration test
      script: coverage run --source='.' ./manage.py test test/integration
#script:
#  - coverage run --source='.' ./manage.py test
#after_success:
#  - coveralls
